应用态内存泄漏和内核内存泄漏

这是抓应用态进程内存分布的 ，主要是ps中不带【】的进程；  
存日志到/var/mem.log  然后在服务器使用py脚本解析日志生成xml  

确认应用进程没有泄露  就重点看slab信息
开启slub-debug，重编内核版本；
内核内存泄漏一般都是在slab上可以观察到增加：cat /proc/slabinfo，具体需要查看到底是哪个slab块在增加，可用的方法： 针对slab的分布，需要开启SLUB的debug开关，

```
CONFIG_SLUB_DEBUG=y
CONFIG_SLUB_DEBUG_ON=y
```

这样可以观察kmalloc的调用栈信息，调用次数多的一般是怀疑点，如下开启后可以看到调用次数的函数，查看cat /sys/kernel/slab/kmalloc-8192/alloc_calls：